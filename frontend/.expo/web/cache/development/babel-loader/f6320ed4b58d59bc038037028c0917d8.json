{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/jmgoncalves/git/agro-x/frontend/components/02-general/bottom-cards/overview-field-profile/overview-field-profile.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useRef, useCallback } from 'react';\nimport { createTStyleSheet } from \"../../../../src/utils/style\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Card, Divider } from 'react-native-paper';\nimport { CardTitle } from \"../../../00-common/card-title\";\nimport { useMainSelector } from \"../../../../redux-things\";\nimport { getLatestCrop, formatDate } from \"../../../../src/utils\";\nimport { useNavigation } from '@react-navigation/native';\nimport { scrollToEndAndBack } from \"../../../../src/utils\";\nimport { Accordion, CustomCheckbox } from \"../../../00-common\";\nimport { useBackButton } from \"../../../../src/custom-hooks/use-back-button\";\nimport { asAliveOnlyScreenComponent } from \"../../../../src/utils/smart-lifecycle-components\";\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { PulverizationMethods } from \"../../../../models\";\nimport { getLatestPrescriptionPulverizationMethod } from \"../../../../src/utils\";\nexport var FieldSelectionFromGeneral = asAliveOnlyScreenComponent(function () {});\nexport function OverviewFieldProfile(props) {\n  var scrollViewRef = useRef(null);\n  var field = useMainSelector(function (state) {\n    return state.interactionData.general.currentField;\n  });\n  var latestCrop = getLatestCrop(field);\n  var cropNotAvailableText = '-';\n  var navigation = useNavigation();\n\n  var _React$useState = React.useState(new Set()),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      checkedFields = _React$useState2[0],\n      setCheckedFields = _React$useState2[1];\n\n  var _React$useState3 = React.useState(new Set()),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      expandedAreas = _React$useState4[0],\n      setExpandedAreas = _React$useState4[1];\n\n  var areas = useMainSelector(function (state) {\n    return state.backendData.user.many_user_has_many_farm[0].farm.area;\n  });\n  var area = useMainSelector(function (state) {\n    return state.interactionData.general.currentArea;\n  });\n  var fields = [];\n\n  for (var _iterator = _createForOfIteratorHelperLoose(area.field), _step; !(_step = _iterator()).done;) {\n    var _field = _step.value;\n    if (getLatestPrescriptionPulverizationMethod(_field) !== PulverizationMethods.NOT_AVAILABLE) fields.push(_field);\n  }\n\n  var onClose = useCallback(function () {\n    setCheckedFields(new Set());\n  }, []);\n  useBackButton(function () {\n    onClose();\n    return 'PROCEED';\n  }, [onClose]);\n\n  function countSelectedFields(area) {\n    var counter = 0;\n\n    for (var _iterator2 = _createForOfIteratorHelperLoose(area.field), _step2; !(_step2 = _iterator2()).done;) {\n      var _field2 = _step2.value;\n      if (checkedFields.has(_field2)) counter++;\n    }\n\n    return counter;\n  }\n\n  function areaFieldsList(area) {\n    return React.createElement(View, {\n      style: styles.listView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 4\n      }\n    });\n  }\n\n  return React.createElement(View, {\n    style: styles.mainView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 3\n    }\n  }, React.createElement(CardTitle, {\n    text: field.name,\n    titleIcon: \"location\",\n    onClose: props.onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 4\n    }\n  }), React.createElement(View, {\n    style: styles.contentView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 6\n    }\n  }, \"TIPO DE PLANTIO\"), React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 6\n    }\n  }, latestCrop ? latestCrop.crop_type : cropNotAvailableText), React.createElement(View, {\n    style: styles.spacer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 6\n    }\n  }), React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 6\n    }\n  }, \"VARIEDADE\"), React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 6\n    }\n  }, latestCrop ? latestCrop.variety : cropNotAvailableText)), React.createElement(View, {\n    style: {\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 6\n    }\n  }, \"\\xC1REA (HA)\"), React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 6\n    }\n  }, field.area_ha.toFixed(2)), React.createElement(View, {\n    style: styles.spacer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 6\n    }\n  }), React.createElement(Text, {\n    numberOfLines: 2,\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 6\n    }\n  }, \"DATA DE\", '\\n', \"PLANTIO\"), React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 6\n    }\n  }, latestCrop ? formatDate(latestCrop.sowing_date) : cropNotAvailableText)), React.createElement(View, {\n    style: {\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 6\n    }\n  }, \"CORTE\"), React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 6\n    }\n  }, field.crop.length > 0 ? field.crop.length : cropNotAvailableText), React.createElement(View, {\n    style: styles.spacer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 6\n    }\n  }), React.createElement(Text, {\n    numberOfLines: 2,\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 6\n    }\n  }, \"PREVIS\\xC3O\", '\\n', \"DE COLHEITA\"), React.createElement(Text, {\n    numberOfLines: 1,\n    style: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 6\n    }\n  }, latestCrop ? formatDate(latestCrop.expected_harvest_date) : cropNotAvailableText))), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.hs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 5\n    }\n  }, \"Hist\\xF3rico\")), React.createElement(ScrollView, {\n    ref: scrollViewRef,\n    style: styles.scrollBar,\n    onLayout: function onLayout() {\n      return scrollToEndAndBack(scrollViewRef, 'scrollview');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    style: styles.headerContentTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.headerTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 6\n    }\n  }, \"Data\"), React.createElement(Text, {\n    style: styles.headerTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 6\n    }\n  }, \"Opera\\xE7\\xE3o\"), React.createElement(Text, {\n    style: styles.headerTableLast,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 6\n    }\n  }, \"Detalhes\")), React.createElement(Divider, {\n    style: styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  }), React.createElement(View, {\n    style: styles.contentTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.headerTableContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 6\n    }\n  }, \"14/02/21\"), React.createElement(Text, {\n    style: styles.headerTableContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 6\n    }\n  }, \"Plantio\"), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 6\n    }\n  }, React.createElement(Accordion, {\n    key: area.id.toString(),\n    isExpanded: expandedAreas.has(area),\n    title: \"Opera\\xE7\\xE3o\",\n    subtitle: \"Drone\",\n    titleRight: React.createElement(View, {\n      style: {\n        alignItems: 'flex-end',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 8\n      }\n    }, React.createElement(Text, {\n      style: styles.subtitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, area.field.length + \" TALH\\xD5ES\"), React.createElement(Text, {\n      style: styles.selected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }\n    }, countSelectedFields(area), \" Selecionados\")),\n    divider: React.createElement(Divider, {\n      style: {\n        width: '93%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 16\n      }\n    }),\n    onPress: function onPress() {\n      setExpandedAreas(function (expandedAreas) {\n        if (expandedAreas.has(area)) expandedAreas.delete(area);else expandedAreas.add(area);\n        return new Set(expandedAreas);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 6\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, React.createElement(CustomCheckbox, {\n    title: \"Todos os talh\\xF5es desta \\xE1rea\",\n    status: \"checked\",\n    customStyle: {\n      marginVertical: '15rem'\n    },\n    onPress: function onPress() {\n      setCheckedFields(function (checkedFields) {\n        for (var _iterator3 = _createForOfIteratorHelperLoose(area.field), _step3; !(_step3 = _iterator3()).done;) {\n          var _field3 = _step3.value;\n          if (checkedFields.has(_field3)) checkedFields.delete(_field3);else checkedFields.add(_field3);\n        }\n\n        return new Set(checkedFields);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 8\n    }\n  }), areaFieldsList(area))))), React.createElement(View, {\n    style: styles.contentDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.boxDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 6\n    }\n  }, \"Coment\\xE1rios\"))), React.createElement(View, {\n    style: styles.buttonView2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 4\n    }\n  }, React.createElement(Card, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    activeOpacity: 0.5,\n    style: styles.button,\n    onPress: function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              navigation.navigate('IncludeRecord');\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: styles.text2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }\n  }, \"INCLUIR REGISTRO\")))));\n}\nvar styles = createTStyleSheet({\n  logo: {\n    width: '10rem',\n    height: '10rem'\n  },\n  button: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    height: '100%'\n  },\n  boxDetails: {\n    fontSize: '13rem',\n    color: '#78849E',\n    fontWeight: '500',\n    alignSelf: 'center',\n    marginTop: '16rem'\n  },\n  $marginVertical: '0rem',\n  divider: {\n    height: '3rem',\n    marginVertical: '$marginVertical',\n    backgroundColor: '#FFFFFF'\n  },\n  scrollBar: {\n    flexGrow: 0,\n    paddingRight: '10rem'\n  },\n  headerContentTable: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingBottom: '16rem',\n    marginTop: '16rem',\n    marginLeft: '10rem',\n    backgroundColor: '#EFF0F0',\n    paddingHorizontal: '10rem'\n  },\n  contentTable: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingBottom: '16rem',\n    marginLeft: '10rem',\n    backgroundColor: '#EFF0F0',\n    paddingHorizontal: '10rem'\n  },\n  contentDetails: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingBottom: '16rem',\n    marginLeft: '10rem',\n    backgroundColor: '#F8F8F8',\n    paddingHorizontal: '10rem'\n  },\n  mainView2: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '80%',\n    height: '30rem'\n  },\n  icon: {\n    marginHorizontal: '7rem',\n    fontSize: '20rem',\n    color: '#469BA2'\n  },\n  text: {\n    fontSize: '14rem',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: '500',\n    color: '#469BA2'\n  },\n  card: {\n    height: '44rem',\n    backgroundColor: '#469BA2',\n    width: '90%',\n    marginLeft: '20rem',\n    marginBottom: '16rem',\n    marginTop: '16rem'\n  },\n  text2: {\n    marginLeft: '10rem',\n    fontSize: '16rem',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: '300',\n    color: '#ffffff'\n  },\n  mainView: {\n    flexDirection: 'column',\n    alignItems: 'stretch',\n    justifyContent: 'flex-end',\n    backgroundColor: 'white'\n  },\n  buttonView: {\n    width: '100%'\n  },\n  contentView: {\n    paddingBottom: '16rem',\n    marginTop: '16rem',\n    marginHorizontal: '16rem',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  header: {\n    fontSize: '14rem',\n    color: '#78849E'\n  },\n  headerTable: {\n    fontSize: '14rem',\n    color: '#469BA2',\n    fontWeight: 'bold',\n    marginTop: '16rem',\n    maxWidth: '95rem',\n    minWidth: '95rem'\n  },\n  headerTableLast: {\n    fontSize: '14rem',\n    color: '#469BA2',\n    fontWeight: 'bold',\n    paddingRight: '10rem',\n    marginTop: '16rem'\n  },\n  headerTableContent: {\n    fontSize: '14rem',\n    color: '#767F82',\n    fontWeight: 'normal',\n    marginTop: '16rem',\n    maxWidth: '95rem',\n    minWidth: '95rem'\n  },\n  headerTableContentLast: {\n    fontSize: '14rem',\n    color: '#767F82',\n    fontWeight: 'normal',\n    marginTop: '16rem',\n    paddingRight: '40rem'\n  },\n  content: {\n    fontSize: '14rem',\n    color: '#6C6464'\n  },\n  columnsView: {\n    flexDirection: 'column',\n    maxWidth: '140rem'\n  },\n  spacer: {\n    margin: '16rem'\n  },\n  hs: {\n    fontSize: '20rem',\n    marginHorizontal: '16rem'\n  }\n});","map":{"version":3,"sources":["/home/jmgoncalves/git/agro-x/frontend/components/02-general/bottom-cards/overview-field-profile/overview-field-profile.tsx"],"names":["React","useRef","useCallback","createTStyleSheet","Card","Divider","CardTitle","useMainSelector","getLatestCrop","formatDate","useNavigation","scrollToEndAndBack","Accordion","CustomCheckbox","useBackButton","asAliveOnlyScreenComponent","ScrollView","PulverizationMethods","getLatestPrescriptionPulverizationMethod","FieldSelectionFromGeneral","OverviewFieldProfile","props","scrollViewRef","field","state","interactionData","general","currentField","latestCrop","cropNotAvailableText","navigation","useState","Set","checkedFields","setCheckedFields","expandedAreas","setExpandedAreas","areas","backendData","user","many_user_has_many_farm","farm","area","currentArea","fields","NOT_AVAILABLE","push","onClose","countSelectedFields","counter","has","areaFieldsList","styles","listView","mainView","name","contentView","flexDirection","header","content","crop_type","spacer","variety","area_ha","toFixed","sowing_date","crop","length","expected_harvest_date","hs","scrollBar","headerContentTable","headerTable","headerTableLast","divider","contentTable","headerTableContent","id","toString","alignItems","justifyContent","subtitle","selected","width","delete","add","marginVertical","contentDetails","boxDetails","buttonView2","card","button","navigate","text2","logo","height","fontSize","color","fontWeight","alignSelf","marginTop","$marginVertical","backgroundColor","flexGrow","paddingRight","paddingBottom","marginLeft","paddingHorizontal","mainView2","icon","marginHorizontal","text","marginBottom","buttonView","maxWidth","minWidth","headerTableContentLast","columnsView","margin"],"mappings":"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","sourcesContent":["import React, { useRef, useCallback } from 'react';\nimport { createTStyleSheet } from '../../../../src/utils/style';\nimport { TouchableOpacity, Text, View, Linking, Image } from 'react-native';\n// import { Entypo } from '@expo/vector-icons';\nimport { Card, Divider, Button } from 'react-native-paper';\nimport { CardTitle } from '../../../00-common/card-title';\nimport { useMainSelector } from '../../../../redux-things';\nimport { CloseableBottomCardProps } from '../closeable-bottom-card-props';\nimport { getLatestCrop, formatDate } from '../../../../src/utils';\n// import { TrueColor } from '../../../../models';\nimport { plantingReport, asyncCancelableAlert } from '../../../../src/utils/alert-messages';\nimport { useNavigation } from '@react-navigation/native';\nimport { scrollToEndAndBack } from '../../../../src/utils';\nimport { icons } from '../../../../src/assets';\nimport { white } from 'react-native-paper/lib/typescript/src/styles/colors';\nimport { ClosableHeader, Accordion, CustomCheckbox } from '../../../00-common';\nimport { useBackButton } from '../../../../src/custom-hooks/use-back-button';\nimport { asAliveOnlyScreenComponent } from '../../../../src/utils/smart-lifecycle-components';\n// import { SelectableFieldCard } from 'selectable-field-card';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { AgroXScreenProps } from '../../../navigation-types';\nimport { Models, PulverizationMethods } from '../../../../models';\n// import { getLatestDiagnosis, getLatestPrescriptionPulverizationMethod } from '../../src/utils';\nimport { getLatestPrescriptionPulverizationMethod } from '../../../../src/utils';\nimport { confirmQuotationLeave } from '../../../../src/utils/alert-messages';\n\nexport const FieldSelectionFromGeneral = asAliveOnlyScreenComponent(() => {\n\n})\n\nexport function OverviewFieldProfile(props: CloseableBottomCardProps) {\n\tconst scrollViewRef = useRef<ScrollView>(null);\n\tconst field = useMainSelector((state) => state.interactionData.general.currentField)!;\n\tconst latestCrop = getLatestCrop(field);\n\tconst cropNotAvailableText = '-';\n\tconst navigation = useNavigation();\n\n\tconst [checkedFields, setCheckedFields] = React.useState(new Set<Models.field>());\n\tconst [expandedAreas, setExpandedAreas] = React.useState(new Set<Models.area>());\n\tconst areas = useMainSelector((state) => state.backendData.user!.many_user_has_many_farm[0].farm.area)!;\n\n\tconst area = useMainSelector((state) => state.interactionData.general.currentArea)!;\n\tconst fields: Models.field[] = [];\n\tfor (const field of area.field) {\n\t\tif (getLatestPrescriptionPulverizationMethod(field) !== PulverizationMethods.NOT_AVAILABLE) fields.push(field);\n\t}\n\n\tconst onClose = useCallback(() => {\n\t\tsetCheckedFields(new Set<Models.field>());\n\t}, []);\n\n\tuseBackButton(() => {\n\t\tonClose();\n\t\treturn 'PROCEED';\n\t}, [onClose]);\n\n\t// function compare(a: Models.field, b: Models.field) {\n\t// \tif (getLatestDiagnosis(a)!.affected_area_ha > getLatestDiagnosis(b)!.affected_area_ha) return -1;\n\t// \tif (getLatestDiagnosis(b)!.affected_area_ha > getLatestDiagnosis(a)!.affected_area_ha) return 1;\n\t// \treturn 0;\n\t// }\n\n\tfunction countSelectedFields(area: Models.area) {\n\t\tlet counter = 0;\n\t\tfor (const field of area.field) {\n\t\t\tif (checkedFields.has(field)) counter++;\n\t\t}\n\n\t\treturn counter;\n\t}\n\n\tfunction areaFieldsList(area: Models.area) {\n\t\treturn (\n\t\t\t<View style={styles.listView}>\n\n\t\t\t</View>\n\t\t);\n\t}\n\n\ttype AreaAccordionProps = {\n\t\tarea: Models.area;\n\t};\n\t// async function openPdf() {\n\t// \ttry {\n\t// \t\tconst ret = await Linking.openURL(`https://storage.googleapis.com/agrodev_pdf/${field.area_id}/${field.id}/NDVI.pdf`);\n\t// \t\treturn ret;\n\t// \t} catch (error) {\n\t// \t\tconsole.log(error);\n\t// \t\t// displayAlert({\n\t// \t\t// \ttitle: `Informação`,\n\t// \t\t// \tbody: `Não foi possível abrir o WhatsApp, favor entrar em contato pelo telefone: ${WHATSAPP_DEFAULT_NUMBER}`,\n\t// \t\t// \tbuttonText: 'Ok',\n\t// \t\t// });\n\t// \t}\n\t// function AreaAccordion() {\n\t// \treturn (\n\t// \t\t<Accordion key=\"comment\" isExpanded={true} title=\"Comentários\" onPress={() => {}}>\n\t// \t\t\t<View>\n\t// \t\t\t\t<Text style={styles.header}>COMENTÁRIO</Text>\n\t// \t\t\t</View>\n\t// \t\t</Accordion>\n\t// \t);\n\t// }\n\n\n\treturn (\n\t\t<View style={styles.mainView}>\n\t\t\t<CardTitle text={field.name} titleIcon=\"location\" onClose={props.onClose} />\n\n\t\t\t<View style={styles.contentView}>\n\t\t\t\t<View style={{ flexDirection: 'column' }}>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.header}>\n\t\t\t\t\t\tTIPO DE PLANTIO\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.content}>\n\t\t\t\t\t\t{latestCrop ? latestCrop.crop_type : cropNotAvailableText}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<View style={styles.spacer} />\n\t\t\t\t\t<Text numberOfLines={1} style={styles.header}>\n\t\t\t\t\t\tVARIEDADE\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.content}>\n\t\t\t\t\t\t{latestCrop ? latestCrop.variety : cropNotAvailableText}\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\n\t\t\t\t<View style={{ flexDirection: 'column' }}>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.header}>\n\t\t\t\t\t\tÁREA (HA)\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.content}>\n\t\t\t\t\t\t{field.area_ha.toFixed(2)}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<View style={styles.spacer} />\n\t\t\t\t\t<Text numberOfLines={2} style={styles.header}>\n\t\t\t\t\t\tDATA DE{'\\n'}PLANTIO\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.content}>\n\t\t\t\t\t\t{latestCrop ? formatDate(latestCrop.sowing_date) : cropNotAvailableText}\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\n\t\t\t\t<View style={{ flexDirection: 'column' }}>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.header}>\n\t\t\t\t\t\tCORTE\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.content}>\n\t\t\t\t\t\t{field.crop.length > 0 ? field.crop.length : cropNotAvailableText}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<View style={styles.spacer} />\n\t\t\t\t\t<Text numberOfLines={2} style={styles.header}>\n\t\t\t\t\t\tPREVISÃO{'\\n'}DE COLHEITA\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text numberOfLines={1} style={styles.content}>\n\t\t\t\t\t\t{latestCrop ? formatDate(latestCrop.expected_harvest_date) : cropNotAvailableText}\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t\t<View>\n\t\t\t\t<Text style={styles.hs}>Histórico</Text>\n\t\t\t</View>\n\t\t\t<ScrollView ref={scrollViewRef} style={styles.scrollBar} onLayout={() => scrollToEndAndBack(scrollViewRef, 'scrollview')}>\n\t\t\t\t<View style={styles.headerContentTable}>\n\t\t\t\t\t<Text style={styles.headerTable}>Data</Text>\n\t\t\t\t\t<Text style={styles.headerTable}>Operação</Text>\n\t\t\t\t\t<Text style={styles.headerTableLast}>Detalhes</Text>\n\t\t\t\t</View>\n\t\t\t\t<Divider style={styles.divider} />\n\t\t\t\t<View style={styles.contentTable}>\n\t\t\t\t\t<Text style={styles.headerTableContent}>14/02/21</Text>\n\t\t\t\t\t<Text style={styles.headerTableContent}>Plantio</Text>\n\t\t\t\t\t{/* <Text style={styles.headerTableContentLast}>\n\t\t\t\t\t\t<Image source={icons.vector} style={styles.logo} />\n\t\t\t\t\t</Text> */}\n\t\t\t\t\t<View>\n\t\t\t\t\t<Accordion\n\t\t\t\t\t\tkey={area.id.toString()}\n\t\t\t\t\t\tisExpanded={expandedAreas.has(area)}\n\t\t\t\t\t\ttitle=\"Operação\"\n\t\t\t\t\t\tsubtitle=\"Drone\"\n\t\t\t\t\t\ttitleRight={\n\t\t\t\t\t\t\t<View style={{ alignItems: 'flex-end', justifyContent: 'center' }}>\n\t\t\t\t\t\t\t\t<Text style={styles.subtitle}>{`${area.field.length} TALHÕES`}</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.selected}>{countSelectedFields(area)} Selecionados</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdivider={<Divider style={{ width: '93%' }} />}\n\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\tsetExpandedAreas((expandedAreas) => {\n\t\t\t\t\t\t\t\tif (expandedAreas.has(area)) expandedAreas.delete(area);\n\t\t\t\t\t\t\t\telse expandedAreas.add(area);\n\t\t\t\t\t\t\t\treturn new Set(expandedAreas);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t<CustomCheckbox\n\t\t\t\t\t\t\t\ttitle=\"Todos os talhões desta área\"\n\t\t\t\t\t\t\t\tstatus=\"checked\"\n\t\t\t\t\t\t\t\tcustomStyle={{ marginVertical: '15rem' }}\n\t\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\t\tsetCheckedFields((checkedFields) => {\n\t\t\t\t\t\t\t\t\t\t// if (currentAreaAllSelected)\n\t\t\t\t\t\t\t\t\t\t// for (const field of area.field) {\n\t\t\t\t\t\t\t\t\t\t// \tcheckedFields.delete(field);\n\t\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\t\t// else {\n\t\t\t\t\t\t\t\t\t\tfor (const field of area.field) {\n\t\t\t\t\t\t\t\t\t\t\tif (checkedFields.has(field)) checkedFields.delete(field);\n\t\t\t\t\t\t\t\t\t\t\telse checkedFields.add(field);\n\t\t\t\t\t\t\t\t\t\t\t// setFieldsWithMethods((fieldsWithMethods) => {\n\t\t\t\t\t\t\t\t\t\t\t// \tfieldsWithMethods.set(field.id, PulverizationMethods.DRONE);\n\t\t\t\t\t\t\t\t\t\t\t// \treturn new Map(fieldsWithMethods);\n\t\t\t\t\t\t\t\t\t\t\t// });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t\t\t\t\treturn new Set(checkedFields);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{areaFieldsList(area)}\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t\t<View style={styles.contentDetails}>\n\t\t\t\t\t<Text style={styles.boxDetails}>Comentários</Text>\n\t\t\t\t</View>\n\t\t\t</ScrollView>\n\t\t\t<View style={styles.buttonView2}>\n\t\t\t\t<Card style={styles.card}>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\tactiveOpacity={0.5}\n\t\t\t\t\t\tstyle={styles.button}\n\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\tnavigation.navigate('IncludeRecord');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text style={styles.text2}>INCLUIR REGISTRO</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</Card>\n\t\t\t</View>\n\t\t\t{/* <View style={styles.buttonView2}>\n\t\t\t\t<Card style={styles.card}>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\tactiveOpacity={0.5}\n\t\t\t\t\t\tstyle={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center', width: '100%', height: '100%' }}\n\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t// plantingReport.body = ``;\n\t\t\t\t\t\t\tconst response = await asyncCancelableAlert(plantingReport);\n\t\t\t\t\t\t\tif (response === 'CONFIRM') {\n\t\t\t\t\t\t\t\tnavigation.navigate('MethodSelectionReport');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\topenPdf();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// openPdf();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text style={styles.text2}>Relatórios de Plantio</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</Card>\n\t\t\t</View> */}\n\t\t</View>\n\t);\n}\n\nconst styles = createTStyleSheet({\n\tlogo: {\n\t\twidth: '10rem',\n\t\theight: '10rem',\n\t},\n\tbutton: {\n\t\tflexDirection: 'row',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\twidth: '100%',\n\t\theight: '100%',\n\t},\n\tboxDetails: {\n\t\tfontSize: '13rem',\n\t\tcolor: '#78849E',\n\t\tfontWeight: '500',\n\t\talignSelf: 'center',\n\t\tmarginTop: '16rem',\n\t},\n\t$marginVertical: '0rem',\n\tdivider: {\n\t\theight: '3rem',\n\t\tmarginVertical: '$marginVertical',\n\t\tbackgroundColor: '#FFFFFF',\n\t},\n\tscrollBar: {\n\t\tflexGrow: 0,\n\t\tpaddingRight: '10rem',\n\t},\n\theaderContentTable: {\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t\tpaddingBottom: '16rem',\n\t\tmarginTop: '16rem',\n\t\tmarginLeft: '10rem',\n\t\tbackgroundColor: '#EFF0F0',\n\t\tpaddingHorizontal: '10rem',\n\t},\n\tcontentTable: {\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t\tpaddingBottom: '16rem',\n\t\tmarginLeft: '10rem',\n\t\tbackgroundColor: '#EFF0F0',\n\t\tpaddingHorizontal: '10rem',\n\t},\n\tcontentDetails: {\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t\tpaddingBottom: '16rem',\n\t\tmarginLeft: '10rem',\n\t\tbackgroundColor: '#F8F8F8',\n\t\tpaddingHorizontal: '10rem',\n\t},\n\tmainView2: {\n\t\tflexDirection: 'row',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\twidth: '80%',\n\t\theight: '30rem',\n\t},\n\ticon: {\n\t\tmarginHorizontal: '7rem',\n\t\tfontSize: '20rem',\n\t\tcolor: '#469BA2',\n\t},\n\ttext: {\n\t\tfontSize: '14rem',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tfontWeight: '500',\n\t\tcolor: '#469BA2',\n\t},\n\tcard: {\n\t\theight: '44rem',\n\t\tbackgroundColor: '#469BA2',\n\t\twidth: '90%',\n\t\tmarginLeft: '20rem',\n\t\tmarginBottom: '16rem',\n\t\tmarginTop: '16rem',\n\t},\n\ttext2: {\n\t\tmarginLeft: '10rem',\n\t\tfontSize: '16rem',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tfontWeight: '300',\n\t\tcolor: '#ffffff',\n\t},\n\tmainView: {\n\t\tflexDirection: 'column',\n\t\talignItems: 'stretch',\n\t\tjustifyContent: 'flex-end',\n\t\tbackgroundColor: 'white',\n\t},\n\tbuttonView: {\n\t\twidth: '100%',\n\t},\n\tcontentView: {\n\t\tpaddingBottom: '16rem',\n\t\tmarginTop: '16rem',\n\t\tmarginHorizontal: '16rem',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t},\n\theader: {\n\t\tfontSize: '14rem',\n\t\tcolor: '#78849E',\n\t},\n\theaderTable: {\n\t\tfontSize: '14rem',\n\t\tcolor: '#469BA2',\n\t\tfontWeight: 'bold',\n\t\tmarginTop: '16rem',\n\t\tmaxWidth: '95rem',\n\t\tminWidth: '95rem',\n\t},\n\theaderTableLast: {\n\t\tfontSize: '14rem',\n\t\tcolor: '#469BA2',\n\t\tfontWeight: 'bold',\n\t\tpaddingRight: '10rem',\n\t\tmarginTop: '16rem',\n\t},\n\theaderTableContent: {\n\t\tfontSize: '14rem',\n\t\tcolor: '#767F82',\n\t\tfontWeight: 'normal',\n\t\tmarginTop: '16rem',\n\t\tmaxWidth: '95rem',\n\t\tminWidth: '95rem',\n\t},\n\theaderTableContentLast: {\n\t\tfontSize: '14rem',\n\t\tcolor: '#767F82',\n\t\tfontWeight: 'normal',\n\t\tmarginTop: '16rem',\n\t\tpaddingRight: '40rem',\n\t},\n\tcontent: {\n\t\tfontSize: '14rem',\n\t\tcolor: '#6C6464',\n\t},\n\tcolumnsView: {\n\t\tflexDirection: 'column',\n\t\tmaxWidth: '140rem',\n\t},\n\tspacer: {\n\t\tmargin: '16rem',\n\t},\n\ths: {\n\t\tfontSize: '20rem',\n\t\tmarginHorizontal: '16rem',\n\t},\n});\n"]},"metadata":{},"sourceType":"module"}