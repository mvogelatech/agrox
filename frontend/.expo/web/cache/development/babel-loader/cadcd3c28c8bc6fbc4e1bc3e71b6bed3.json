{"ast":null,"code":"var _jsxFileName = \"/home/jmgoncalves/git/agro-x/frontend/components/20-quotations/index.tsx\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from 'react';\nimport { useMainSelector } from \"../../redux-things\";\nimport { DrawerActions } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { createTStyleSheet } from \"../../src/utils/style\";\nimport { DefaultHeader } from \"../00-common\";\nimport { displayAlert, quotationNotAvailable } from \"../../src/utils/alert-messages\";\nimport { QuotationCard } from \"./quotation-card\";\nimport { Tabs } from \"./tabs\";\nimport { getQuotationsFromPackage } from \"../../src/utils\";\nexport function Quotations(_ref) {\n  var navigation = _ref.navigation;\n  var tab = useMainSelector(function (state) {\n    return state.interactionData.quotation.currentTab;\n  });\n  var quotationPackages = useMainSelector(function (state) {\n    return state.backendData.quotationPackages;\n  });\n  var available = [];\n  var preparing = [];\n\n  for (var _iterator = _createForOfIteratorHelperLoose(quotationPackages), _step; !(_step = _iterator()).done;) {\n    var pkg = _step.value;\n    var quotations = getQuotationsFromPackage(pkg);\n\n    if (quotations.every(function (quotation) {\n      return quotation.response_date !== null;\n    })) {\n      available.push(pkg);\n    } else if (quotations.some(function (quotation) {\n      return quotation.response_date === null;\n    })) preparing.push(pkg);\n  }\n\n  function compare(a, b) {\n    if (a.code > b.code) return -1;\n    if (b.code > a.code) return 1;\n    return 0;\n  }\n\n  function getBottomComponent() {\n    var _this = this;\n\n    if ((tab === 'Preparing' ? preparing : available).length > 0) return React.createElement(View, {\n      style: styles.listView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }\n    }, React.createElement(FlatList, {\n      persistentScrollbar: true,\n      data: tab === 'Preparing' ? preparing.slice().sort(compare) : available.slice().sort(compare),\n      renderItem: function renderItem(_ref2) {\n        var pkg = _ref2.item;\n        return React.createElement(QuotationCard, {\n          quotation_package: pkg,\n          onPress: function onPress() {\n            if (tab === 'Preparing') displayAlert(quotationNotAvailable);else navigation.navigate('PriceSelection', {\n              quotationPackage: pkg\n            });\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 8\n          }\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }\n    }));\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    }, React.createElement(MaterialCommunityIcons, {\n      name: \"file-document-outline\",\n      style: styles.icon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }), React.createElement(Text, {\n      style: styles.noQuotationText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }\n    }, ' ', tab === 'Preparing' ? 'Você ainda não realizou nenhum orçamento' : 'Nenhum orçamento está disponível ainda'));\n  }\n\n  return React.createElement(View, {\n    style: styles.mainView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 3\n    }\n  }, React.createElement(DefaultHeader, {\n    title: \"Meus Or\\xE7amentos\",\n    onDrawerPress: function onDrawerPress() {\n      return navigation.dispatch(DrawerActions.openDrawer());\n    },\n    onNotificationPress: function onNotificationPress() {\n      return navigation.navigate('Notifications');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }\n  }), React.createElement(Tabs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }\n  }), getBottomComponent());\n}\nvar styles = createTStyleSheet({\n  mainView: {\n    flex: 1\n  },\n  listView: {\n    flex: 1\n  },\n  icon: {\n    fontSize: '80rem',\n    color: '#D5D5DA'\n  },\n  noQuotationText: {\n    marginTop: '16rem',\n    color: '#78849E',\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["/home/jmgoncalves/git/agro-x/frontend/components/20-quotations/index.tsx"],"names":["React","useMainSelector","DrawerActions","MaterialCommunityIcons","createTStyleSheet","DefaultHeader","displayAlert","quotationNotAvailable","QuotationCard","Tabs","getQuotationsFromPackage","Quotations","navigation","tab","state","interactionData","quotation","currentTab","quotationPackages","backendData","available","preparing","pkg","quotations","every","response_date","push","some","compare","a","b","code","getBottomComponent","length","styles","listView","slice","sort","item","navigate","quotationPackage","id","toString","flex","alignItems","justifyContent","icon","noQuotationText","mainView","dispatch","openDrawer","fontSize","color","marginTop","fontWeight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useMainSelector } from '../../redux-things';\nimport { DrawerActions } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nimport { View, FlatList, Text } from 'react-native';\nimport { createTStyleSheet } from '../../src/utils/style';\n\nimport { AgroXScreenProps } from '../navigation-types';\nimport { DefaultHeader } from '../00-common';\nimport { displayAlert, quotationNotAvailable } from '../../src/utils/alert-messages';\nimport { QuotationCard } from './quotation-card';\nimport { Tabs } from './tabs';\nimport { Models } from '../../models';\nimport { getQuotationsFromPackage } from '../../src/utils';\n\nexport function Quotations({ navigation }: AgroXScreenProps<'Quotations'>) {\n\tconst tab = useMainSelector((state) => state.interactionData.quotation.currentTab);\n\tconst quotationPackages = useMainSelector((state) => state.backendData.quotationPackages)!;\n\t// const quotationCheckouts = useMainSelector((state) => state.backendData.quotationCheckoutGroups)!.flat();\n\n\tconst available: Models.quotation_package[] = [];\n\tconst preparing: Models.quotation_package[] = [];\n\n\tfor (const pkg of quotationPackages) {\n\t\tconst quotations = getQuotationsFromPackage(pkg);\n\t\tif (quotations.every((quotation) => quotation.response_date !== null)) {\n\t\t\tavailable.push(pkg);\n\t\t} else if (quotations.some((quotation) => quotation.response_date === null)) preparing.push(pkg);\n\t}\n\n\tfunction compare(a: Models.quotation_package, b: Models.quotation_package) {\n\t\tif (a.code > b.code) return -1;\n\t\tif (b.code > a.code) return 1;\n\t\treturn 0;\n\t}\n\n\tfunction getBottomComponent() {\n\t\tif ((tab === 'Preparing' ? preparing : available).length > 0)\n\t\t\treturn (\n\t\t\t\t<View style={styles.listView}>\n\t\t\t\t\t<FlatList\n\t\t\t\t\t\tpersistentScrollbar\n\t\t\t\t\t\tdata={tab === 'Preparing' ? preparing.slice().sort(compare) : available.slice().sort(compare)}\n\t\t\t\t\t\trenderItem={({ item: pkg }) => (\n\t\t\t\t\t\t\t<QuotationCard\n\t\t\t\t\t\t\t\tquotation_package={pkg}\n\t\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\t\tif (tab === 'Preparing') displayAlert(quotationNotAvailable);\n\t\t\t\t\t\t\t\t\telse navigation.navigate('PriceSelection', { quotationPackage: pkg });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tkeyExtractor={(item) => item.id.toString()}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t);\n\n\t\treturn (\n\t\t\t<View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n\t\t\t\t<MaterialCommunityIcons name=\"file-document-outline\" style={styles.icon} />\n\t\t\t\t<Text style={styles.noQuotationText}>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{tab === 'Preparing' ? 'Você ainda não realizou nenhum orçamento' : 'Nenhum orçamento está disponível ainda'}\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t);\n\t}\n\n\treturn (\n\t\t<View style={styles.mainView}>\n\t\t\t<DefaultHeader\n\t\t\t\ttitle=\"Meus Orçamentos\"\n\t\t\t\tonDrawerPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n\t\t\t\tonNotificationPress={() => navigation.navigate('Notifications')}\n\t\t\t/>\n\t\t\t<Tabs />\n\t\t\t{getBottomComponent()}\n\t\t</View>\n\t);\n}\n\nconst styles = createTStyleSheet({\n\tmainView: {\n\t\tflex: 1,\n\t},\n\tlistView: {\n\t\tflex: 1,\n\t},\n\ticon: {\n\t\tfontSize: '80rem',\n\t\tcolor: '#D5D5DA',\n\t},\n\tnoQuotationText: {\n\t\tmarginTop: '16rem',\n\t\tcolor: '#78849E',\n\t\tfontWeight: 'bold',\n\t},\n});\n"]},"metadata":{},"sourceType":"module"}