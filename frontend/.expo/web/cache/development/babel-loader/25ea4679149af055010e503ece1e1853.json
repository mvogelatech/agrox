{"ast":null,"code":"import ensureError from 'ensure-error';\n\nvar jsonStringifySafe = require('json-stringify-safe');\n\nexport function stringify(arg) {\n  if (typeof arg === 'string') {\n    return arg;\n  }\n\n  if (!arg || typeof arg !== 'object') {\n    return String(arg);\n  }\n\n  if (Object.prototype.toString.call(arg) === '[object Error]') {\n    var _ensureError = ensureError(arg),\n        message = _ensureError.message,\n        stack = _ensureError.stack;\n\n    var printableMessage = jsonStringifySafe(message);\n    var printableStack = jsonStringifySafe(stack.slice(0, 150));\n    return \"[ERROR: \" + printableMessage + \" [Beginning of stack: \" + printableStack + \"]]\";\n  }\n\n  return jsonStringifySafe(arg);\n}","map":{"version":3,"sources":["/home/jmgoncalves/git/agro-x/frontend/src/debug/stringify.ts"],"names":["ensureError","jsonStringifySafe","require","stringify","arg","String","Object","prototype","toString","call","message","stack","printableMessage","printableStack","slice"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,cAAxB;;AACA,IAAMC,iBAA2C,GAAGC,OAAO,CAAC,qBAAD,CAA3D;;AAEA,OAAO,SAASC,SAAT,CAAmBC,GAAnB,EAAyC;AAC/C,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC5B,WAAOA,GAAP;AACA;;AAED,MAAI,CAACA,GAAD,IAAQ,OAAOA,GAAP,KAAe,QAA3B,EAAqC;AACpC,WAAOC,MAAM,CAACD,GAAD,CAAb;AACA;;AAED,MAAIE,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,GAA/B,MAAwC,gBAA5C,EAA8D;AAAA,uBAClCJ,WAAW,CAACI,GAAD,CADuB;AAAA,QACrDM,OADqD,gBACrDA,OADqD;AAAA,QAC5CC,KAD4C,gBAC5CA,KAD4C;;AAE7D,QAAMC,gBAAgB,GAAGX,iBAAiB,CAACS,OAAD,CAA1C;AACA,QAAMG,cAAc,GAAGZ,iBAAiB,CAACU,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAe,GAAf,CAAD,CAAxC;AACA,wBAAkBF,gBAAlB,8BAA2DC,cAA3D;AACA;;AAED,SAAOZ,iBAAiB,CAACG,GAAD,CAAxB;AACA","sourcesContent":["import ensureError from 'ensure-error';\nconst jsonStringifySafe: (arg: unknown) => string = require('json-stringify-safe'); // eslint-disable-line @typescript-eslint/no-var-requires\n\nexport function stringify(arg: unknown): string {\n\tif (typeof arg === 'string') {\n\t\treturn arg;\n\t}\n\n\tif (!arg || typeof arg !== 'object') {\n\t\treturn String(arg);\n\t}\n\n\tif (Object.prototype.toString.call(arg) === '[object Error]') {\n\t\tconst { message, stack } = ensureError(arg);\n\t\tconst printableMessage = jsonStringifySafe(message);\n\t\tconst printableStack = jsonStringifySafe(stack.slice(0, 150));\n\t\treturn `[ERROR: ${printableMessage} [Beginning of stack: ${printableStack}]]`;\n\t}\n\n\treturn jsonStringifySafe(arg);\n}\n"]},"metadata":{},"sourceType":"module"}