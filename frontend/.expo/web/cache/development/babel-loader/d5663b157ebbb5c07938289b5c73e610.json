{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/jmgoncalves/git/agro-x/frontend/components/09-checkout-confirmation/index.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { createTStyleSheet } from \"../../src/utils/style\";\nimport { Button } from 'react-native-paper';\nimport { displayAlert, displayTimeoutErrorSnackbar, needsToBeOnline } from \"../../src/utils/alert-messages\";\nimport { BackHeader } from \"../00-common/back-header\";\nimport { PulverizationMethods } from \"../../models\";\nimport { asAliveOnlyScreenComponent } from \"../../src/utils/smart-lifecycle-components\";\nimport { useMainSelector, useIsOffline } from \"../../redux-things\";\nimport { CustomCheckbox } from \"../00-common\";\nimport { ky } from \"../../src/network/ky\";\nimport { QuotationDetails } from \"./quotation-details\";\nimport { WaitOverlay } from \"../00-common/wait-overlay\";\n\nfunction postCheckout(checkout) {\n  var droneCheckout, planeCheckout;\n  return _regeneratorRuntime.async(function postCheckout$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!checkout.droneCheckout) {\n            _context.next = 4;\n            break;\n          }\n\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(ky.post('checkout', {\n            json: {\n              selectedPrice: checkout.droneCheckout.paymentMethod,\n              quotationID: checkout.droneCheckout.quotation.id\n            }\n          }).json());\n\n        case 3:\n          droneCheckout = _context.sent;\n\n        case 4:\n          if (!checkout.planeCheckout) {\n            _context.next = 8;\n            break;\n          }\n\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(ky.post('checkout', {\n            json: {\n              selectedPrice: checkout.planeCheckout.paymentMethod,\n              quotationID: checkout.planeCheckout.quotation.id\n            }\n          }).json());\n\n        case 7:\n          planeCheckout = _context.sent;\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nexport var CheckoutConfirmation = asAliveOnlyScreenComponent(function (_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var quotationCheckout = useMainSelector(function (state) {\n    return state.interactionData.quotationCheckout;\n  });\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      haveRead = _React$useState2[0],\n      setHaveRead = _React$useState2[1];\n\n  var isOnline = !useIsOffline();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showIndicator = _useState2[0],\n      setShowIndicator = _useState2[1];\n\n  var L = function L(props) {\n    return React.createElement(Text, {\n      style: {\n        textDecorationLine: 'underline',\n        color: '#316DE3'\n      },\n      onPress: function onPress() {\n        return navigation.navigate('TermsAndConditions');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 3\n      }\n    }, props.children);\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 3\n    }\n  }, showIndicator ? React.createElement(WaitOverlay, {\n    text: \"Aguarde\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }) : undefined, React.createElement(BackHeader, {\n    title: \"Confirma\\xE7\\xE3o\",\n    onBackPress: function onBackPress() {\n      return navigation.goBack();\n    },\n    onNotificationPress: function onNotificationPress() {\n      return navigation.navigate('Notifications');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }\n  }), React.createElement(View, {\n    style: styles.mainView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    style: styles.contentView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, quotationCheckout.droneCheckout ? React.createElement(QuotationDetails, {\n    method: PulverizationMethods.DRONE,\n    company: quotationCheckout.droneCheckout.quotation.company.id,\n    paymentMethod: quotationCheckout.droneCheckout.paymentMethod,\n    quotation: route.params.quotationPackage,\n    onSeeMorePress: function onSeeMorePress() {\n      return navigation.navigate('QuotationDetails', {\n        method: PulverizationMethods.DRONE,\n        company: quotationCheckout.droneCheckout.quotation.company.id,\n        paymentMethod: quotationCheckout.droneCheckout.paymentMethod,\n        quotation: route.params.quotationPackage\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }) : undefined, quotationCheckout.planeCheckout ? React.createElement(QuotationDetails, {\n    method: PulverizationMethods.PLANE,\n    company: quotationCheckout.planeCheckout.quotation.company.id,\n    paymentMethod: quotationCheckout.planeCheckout.paymentMethod,\n    quotation: route.params.quotationPackage,\n    onSeeMorePress: function onSeeMorePress() {\n      return navigation.navigate('QuotationDetails', {\n        method: PulverizationMethods.PLANE,\n        company: quotationCheckout.planeCheckout.quotation.company.id,\n        paymentMethod: quotationCheckout.planeCheckout.paymentMethod,\n        quotation: route.params.quotationPackage\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }) : undefined)), React.createElement(View, {\n    style: styles.bottomView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }\n  }, React.createElement(CustomCheckbox, {\n    title: React.createElement(View, {\n      style: {\n        alignItems: 'flex-start'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.checkboxText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 8\n      }\n    }, \"Declaro que aceito os \", React.createElement(L, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 31\n      }\n    }, \"TERMOS E CONDI\\xC7\\xD5ES\"), \" de contrata\\xE7\\xE3o de pulveriza\\xE7\\xE3o com empresas homologadas.\")),\n    status: haveRead ? 'checked' : 'unchecked',\n    onPress: function onPress() {\n      return setHaveRead(function (haveRead) {\n        return !haveRead;\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }), React.createElement(Button, {\n    uppercase: false,\n    disabled: !haveRead,\n    mode: \"contained\",\n    style: styles.button,\n    labelStyle: styles.buttonText,\n    onPress: function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!isOnline) {\n                _context2.next = 14;\n                break;\n              }\n\n              setShowIndicator(true);\n              _context2.prev = 2;\n              navigation.navigate('FeedbackCheckout');\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(postCheckout(quotationCheckout));\n\n            case 6:\n              _context2.next = 12;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](2);\n              setShowIndicator(false);\n              displayTimeoutErrorSnackbar(_context2.t0, 'Post Checkout');\n\n            case 12:\n              _context2.next = 15;\n              break;\n\n            case 14:\n              displayAlert(needsToBeOnline);\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[2, 8]], Promise);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, \"Contratar Empresa de Pulveriza\\xE7\\xE3o\")));\n});\nvar styles = createTStyleSheet({\n  mainView: {\n    flex: 1,\n    paddingHorizontal: '16rem',\n    backgroundColor: 'white'\n  },\n  contentView: {},\n  button: {\n    marginVertical: '24rem',\n    height: '45rem',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  bottomView: {\n    alignItems: 'center',\n    paddingHorizontal: '16rem',\n    paddingTop: '24rem',\n    backgroundColor: 'white'\n  },\n  checkboxText: {\n    paddingLeft: '8rem',\n    textAlign: 'justify',\n    maxWidth: '95%'\n  },\n  buttonText: {\n    fontSize: '14rem'\n  }\n});","map":{"version":3,"sources":["/home/jmgoncalves/git/agro-x/frontend/components/09-checkout-confirmation/index.tsx"],"names":["React","useState","createTStyleSheet","Button","displayAlert","displayTimeoutErrorSnackbar","needsToBeOnline","BackHeader","PulverizationMethods","asAliveOnlyScreenComponent","useMainSelector","useIsOffline","CustomCheckbox","ky","QuotationDetails","WaitOverlay","postCheckout","checkout","droneCheckout","post","json","selectedPrice","paymentMethod","quotationID","quotation","id","planeCheckout","CheckoutConfirmation","navigation","route","quotationCheckout","state","interactionData","haveRead","setHaveRead","isOnline","showIndicator","setShowIndicator","L","props","textDecorationLine","color","navigate","children","flex","undefined","goBack","styles","mainView","contentView","DRONE","company","params","quotationPackage","method","PLANE","bottomView","alignItems","checkboxText","button","buttonText","paddingHorizontal","backgroundColor","marginVertical","height","justifyContent","width","paddingTop","paddingLeft","textAlign","maxWidth","fontSize"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { View, Text } from 'react-native';\n\nimport { createTStyleSheet } from '../../src/utils/style';\n\nimport { AgroXScreenProps } from '../navigation-types';\nimport { Button } from 'react-native-paper';\nimport { displayAlert, displayTimeoutErrorSnackbar, needsToBeOnline } from '../../src/utils/alert-messages';\nimport { BackHeader } from '../00-common/back-header';\nimport { PulverizationMethods, Models } from '../../models';\nimport { asAliveOnlyScreenComponent } from '../../src/utils/smart-lifecycle-components';\nimport { MainState, dispatch, useMainSelector, useIsOffline } from '../../redux-things';\nimport { CustomCheckbox } from '../00-common';\nimport { ky } from '../../src/network/ky';\nimport { QuotationDetails } from './quotation-details';\nimport { WaitOverlay } from '../00-common/wait-overlay';\n\nasync function postCheckout(checkout: MainState['interactionData']['quotationCheckout']) {\n\tlet droneCheckout;\n\tlet planeCheckout;\n\tif (checkout.droneCheckout) {\n\t\tdroneCheckout = await ky\n\t\t\t.post('checkout', {\n\t\t\t\tjson: {\n\t\t\t\t\tselectedPrice: checkout.droneCheckout.paymentMethod,\n\t\t\t\t\tquotationID: checkout.droneCheckout.quotation.id,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.json<Models.quotation_checkout>();\n\t}\n\n\tif (checkout.planeCheckout) {\n\t\tplaneCheckout = await ky\n\t\t\t.post('checkout', {\n\t\t\t\tjson: {\n\t\t\t\t\tselectedPrice: checkout.planeCheckout.paymentMethod,\n\t\t\t\t\tquotationID: checkout.planeCheckout.quotation.id,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.json<Models.quotation_checkout>();\n\t}\n\n\t// if (planeCheckout && droneCheckout) dispatch({ type: 'BACKEND_DATA__POSTED_NEW_CHECKOUT_GROUP', group: [droneCheckout, planeCheckout] });\n\t// else if (droneCheckout) dispatch({ type: 'BACKEND_DATA__POSTED_NEW_CHECKOUT_GROUP', group: [droneCheckout] });\n\t// else if (planeCheckout) dispatch({ type: 'BACKEND_DATA__POSTED_NEW_CHECKOUT_GROUP', group: [planeCheckout] });\n\t// else throw new Error('No checkout was dispatched');\n}\n\nexport const CheckoutConfirmation = asAliveOnlyScreenComponent(({ navigation, route }: AgroXScreenProps<'CheckoutConfirmation'>) => {\n\tconst quotationCheckout = useMainSelector((state) => state.interactionData.quotationCheckout);\n\tconst [haveRead, setHaveRead] = React.useState(false);\n\tconst isOnline = !useIsOffline();\n\tconst [showIndicator, setShowIndicator] = useState(false);\n\n\tconst L = (props: any) => (\n\t\t<Text style={{ textDecorationLine: 'underline', color: '#316DE3' }} onPress={() => navigation.navigate('TermsAndConditions')}>\n\t\t\t{props.children}\n\t\t</Text>\n\t);\n\n\treturn (\n\t\t<View style={{ flex: 1 }}>\n\t\t\t{showIndicator ? <WaitOverlay text=\"Aguarde\" /> : undefined}\n\t\t\t<BackHeader title=\"Confirmação\" onBackPress={() => navigation.goBack()} onNotificationPress={() => navigation.navigate('Notifications')} />\n\t\t\t<View style={styles.mainView}>\n\t\t\t\t<View style={styles.contentView}>\n\t\t\t\t\t{quotationCheckout.droneCheckout ? (\n\t\t\t\t\t\t<QuotationDetails\n\t\t\t\t\t\t\tmethod={PulverizationMethods.DRONE}\n\t\t\t\t\t\t\tcompany={quotationCheckout.droneCheckout.quotation.company.id}\n\t\t\t\t\t\t\tpaymentMethod={quotationCheckout.droneCheckout.paymentMethod}\n\t\t\t\t\t\t\tquotation={route.params.quotationPackage}\n\t\t\t\t\t\t\tonSeeMorePress={() =>\n\t\t\t\t\t\t\t\tnavigation.navigate('QuotationDetails', {\n\t\t\t\t\t\t\t\t\tmethod: PulverizationMethods.DRONE,\n\t\t\t\t\t\t\t\t\tcompany: quotationCheckout.droneCheckout!.quotation.company.id,\n\t\t\t\t\t\t\t\t\tpaymentMethod: quotationCheckout.droneCheckout!.paymentMethod,\n\t\t\t\t\t\t\t\t\tquotation: route.params.quotationPackage,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : undefined}\n\t\t\t\t\t{quotationCheckout.planeCheckout ? (\n\t\t\t\t\t\t<QuotationDetails\n\t\t\t\t\t\t\tmethod={PulverizationMethods.PLANE}\n\t\t\t\t\t\t\tcompany={quotationCheckout.planeCheckout.quotation.company.id}\n\t\t\t\t\t\t\tpaymentMethod={quotationCheckout.planeCheckout.paymentMethod}\n\t\t\t\t\t\t\tquotation={route.params.quotationPackage}\n\t\t\t\t\t\t\tonSeeMorePress={() =>\n\t\t\t\t\t\t\t\tnavigation.navigate('QuotationDetails', {\n\t\t\t\t\t\t\t\t\tmethod: PulverizationMethods.PLANE,\n\t\t\t\t\t\t\t\t\tcompany: quotationCheckout.planeCheckout!.quotation.company.id,\n\t\t\t\t\t\t\t\t\tpaymentMethod: quotationCheckout.planeCheckout!.paymentMethod,\n\t\t\t\t\t\t\t\t\tquotation: route.params.quotationPackage,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : undefined}\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t\t<View style={styles.bottomView}>\n\t\t\t\t<CustomCheckbox\n\t\t\t\t\ttitle={\n\t\t\t\t\t\t<View style={{ alignItems: 'flex-start' }}>\n\t\t\t\t\t\t\t<Text style={styles.checkboxText}>\n\t\t\t\t\t\t\t\tDeclaro que aceito os <L>TERMOS E CONDIÇÕES</L> de contratação de pulverização com empresas homologadas.\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t}\n\t\t\t\t\tstatus={haveRead ? 'checked' : 'unchecked'}\n\t\t\t\t\tonPress={() => setHaveRead((haveRead) => !haveRead)}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tuppercase={false}\n\t\t\t\t\tdisabled={!haveRead}\n\t\t\t\t\tmode=\"contained\"\n\t\t\t\t\tstyle={styles.button}\n\t\t\t\t\tlabelStyle={styles.buttonText}\n\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\tif (isOnline) {\n\t\t\t\t\t\t\tsetShowIndicator(true);\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tnavigation.navigate('FeedbackCheckout');\n\t\t\t\t\t\t\t\tawait postCheckout(quotationCheckout);\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tsetShowIndicator(false);\n\t\t\t\t\t\t\t\tdisplayTimeoutErrorSnackbar(error, 'Post Checkout');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdisplayAlert(needsToBeOnline);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tContratar Empresa de Pulverização\n\t\t\t\t</Button>\n\t\t\t</View>\n\t\t</View>\n\t);\n});\n\nconst styles = createTStyleSheet({\n\tmainView: {\n\t\tflex: 1,\n\t\tpaddingHorizontal: '16rem',\n\t\tbackgroundColor: 'white',\n\t},\n\tcontentView: {},\n\tbutton: {\n\t\tmarginVertical: '24rem',\n\t\theight: '45rem',\n\t\tjustifyContent: 'center',\n\t\twidth: '100%',\n\t},\n\tbottomView: {\n\t\talignItems: 'center',\n\t\tpaddingHorizontal: '16rem',\n\t\tpaddingTop: '24rem',\n\t\tbackgroundColor: 'white',\n\t},\n\tcheckboxText: {\n\t\tpaddingLeft: '8rem',\n\t\ttextAlign: 'justify',\n\t\tmaxWidth: '95%',\n\t},\n\tbuttonText: {\n\t\tfontSize: '14rem',\n\t},\n});\n"]},"metadata":{},"sourceType":"module"}