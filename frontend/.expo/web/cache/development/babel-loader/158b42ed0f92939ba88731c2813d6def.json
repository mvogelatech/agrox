{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/jmgoncalves/git/agro-x/frontend/components/09-checkout-confirmation/details.tsx\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { createTStyleSheet } from \"../../src/utils/style\";\nimport { Divider } from 'react-native-paper';\nimport { ClosableHeader } from \"../00-common\";\nimport { useMainSelector } from \"../../redux-things\";\nimport { formatDate } from \"../../src/utils\";\nimport { PulverizationMethods } from \"../../models\";\nimport NumberFormat from 'react-number-format';\nimport { asAliveOnlyScreenComponent } from \"../../src/utils/smart-lifecycle-components\";\nexport var QuotationDetails = asAliveOnlyScreenComponent(function (_ref) {\n  var _currentCompany$addre, _currentQuotation;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  function getPaymentMethodText() {\n    if (route.params.paymentMethod === 'antecipated_price') return 'Antecipado';\n    if (route.params.paymentMethod === 'cash_price') return 'No Ato';\n    return 'Em 30 Dias';\n  }\n\n  function getQuotationFromCompanyIdByModal() {\n    for (var _iterator = _createForOfIteratorHelperLoose(route.params.quotation.quotation_modal_package), _step; !(_step = _iterator()).done;) {\n      var modal = _step.value;\n\n      if (modal.pulverization_method === route.params.method) {\n        for (var _iterator2 = _createForOfIteratorHelperLoose(modal.quotation), _step2; !(_step2 = _iterator2()).done;) {\n          var quotation = _step2.value;\n\n          if (quotation.company_id === route.params.company) {\n            return quotation;\n          }\n        }\n      }\n    }\n\n    throw new Error('A quotation should have been found!');\n  }\n\n  var companies = useMainSelector(function (state) {\n    return state.backendData.companies;\n  });\n\n  function getCompanyById() {\n    for (var _iterator3 = _createForOfIteratorHelperLoose(companies), _step3; !(_step3 = _iterator3()).done;) {\n      var _company = _step3.value;\n      if (_company.id === route.params.company) return _company;\n    }\n\n    throw new Error('A company should have been found!');\n  }\n\n  var currentCompany = getCompanyById();\n  var currentQuotation = getQuotationFromCompanyIdByModal();\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 3\n    }\n  }, React.createElement(ClosableHeader, {\n    title: \"Detalhes da Pulveriza\\xE7\\xE3o\",\n    customStyle: {\n      paddingLeft: '16rem',\n      marginTop: '9rem',\n      fontWeight: 'bold',\n      color: '#6F6F6F'\n    },\n    onClose: function onClose() {\n      navigation.goBack();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }\n  }), React.createElement(View, {\n    style: styles.mainView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, \"EMPRESA A SER CONTRATADA\"), React.createElement(Text, {\n    style: styles.companyText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, currentCompany.name), React.createElement(Text, {\n    style: styles.address,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, currentCompany.address.street + \", \" + ((_currentCompany$addre = currentCompany.address.number) != null ? _currentCompany$addre : '') + \" - \" + currentCompany.address.city + \"/\" + currentCompany.address.state.initials), React.createElement(Divider, {\n    style: styles.divider,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }), React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, \"M\\xC9TODO\"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, \"Pulveriza\\xE7\\xE3o por \", route.params.method === PulverizationMethods.DRONE ? 'Drone' : 'Avião'), React.createElement(Divider, {\n    style: styles.divider,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }), React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, \"PER\\xCDODO\"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, formatDate(route.params.quotation.pulverization_start_date), \" at\\xE9 \", formatDate(route.params.quotation.pulverization_end_date)), React.createElement(Divider, {\n    style: styles.divider,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }), React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, \"PROPRIEDADE\"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, _toConsumableArray(new Set(route.params.quotation.quotation_modal_package.flatMap(function (modal) {\n    return modal.pulverization_method === route.params.method ? modal.field.flatMap(function (field) {\n      return field.area.name.split(' ')[1];\n    }) : undefined;\n  }))).filter(Boolean).sort(undefined).join(', ')), React.createElement(Divider, {\n    style: styles.divider,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }), React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, \"TALH\\xD5ES\"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, _toConsumableArray(new Set(route.params.quotation.quotation_modal_package.flatMap(function (modal) {\n    return modal.pulverization_method === route.params.method ? modal.field.map(function (field) {\n      return field.name.split(' ')[1];\n    }) : undefined;\n  }))).filter(Boolean).sort(undefined).join(', ')), React.createElement(Divider, {\n    style: styles.divider,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }), React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, \"VALOR\"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, React.createElement(NumberFormat, {\n    fixedDecimalScale: true,\n    decimalScale: 2,\n    value: (_currentQuotation = currentQuotation[route.params.paymentMethod]) != null ? _currentQuotation : 0,\n    displayType: \"text\",\n    thousandSeparator: \".\",\n    decimalSeparator: \",\",\n    prefix: \"R$ \",\n    renderText: function renderText(value) {\n      return React.createElement(Text, {\n        style: styles.valueText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 30\n        }\n      }, value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 6\n    }\n  }), ' ', \"/ \", getPaymentMethodText())));\n});\nvar styles = createTStyleSheet({\n  mainView: {\n    flex: 1,\n    padding: '24rem',\n    backgroundColor: 'white',\n    justifyContent: 'space-evenly'\n  },\n  titleText: {\n    color: '#78849E',\n    lineHeight: '25rem'\n  },\n  address: {\n    color: '#78849E'\n  },\n  companyText: {\n    fontSize: '18rem'\n  },\n  valueText: {\n    fontSize: '18rem'\n  },\n  divider: {\n    height: '1rem',\n    marginVertical: '20rem'\n  }\n});","map":{"version":3,"sources":["/home/jmgoncalves/git/agro-x/frontend/components/09-checkout-confirmation/details.tsx"],"names":["React","createTStyleSheet","Divider","ClosableHeader","useMainSelector","formatDate","PulverizationMethods","NumberFormat","asAliveOnlyScreenComponent","QuotationDetails","navigation","route","getPaymentMethodText","params","paymentMethod","getQuotationFromCompanyIdByModal","quotation","quotation_modal_package","modal","pulverization_method","method","company_id","company","Error","companies","state","backendData","getCompanyById","id","currentCompany","currentQuotation","flex","backgroundColor","paddingLeft","marginTop","fontWeight","color","goBack","styles","mainView","titleText","companyText","name","address","street","number","city","initials","divider","DRONE","pulverization_start_date","pulverization_end_date","Set","flatMap","field","area","split","undefined","filter","Boolean","sort","join","map","value","valueText","padding","justifyContent","lineHeight","fontSize","height","marginVertical"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { View, Text } from 'react-native';\nimport { createTStyleSheet } from '../../src/utils/style';\nimport { Divider } from 'react-native-paper';\nimport { ClosableHeader } from '../00-common';\nimport { useMainSelector } from '../../redux-things';\nimport { formatDate } from '../../src/utils';\nimport { PulverizationMethod, PaymentMethod, Models, PulverizationMethods } from '../../models';\nimport NumberFormat from 'react-number-format';\nimport { asAliveOnlyScreenComponent } from '../../src/utils/smart-lifecycle-components';\nimport { AgroXScreenProps } from '../navigation-types';\n\ntype QuotationDetailsProps = {\n\tmethod: PulverizationMethod;\n\tcompany: number;\n\tpaymentMethod: PaymentMethod;\n\tquotation: Models.quotation_package;\n\tonSeeMorePress: () => void;\n};\n\ntype ScreenProps = AgroXScreenProps<'QuotationDetails'>;\n\nexport const QuotationDetails = asAliveOnlyScreenComponent(({ navigation, route }: ScreenProps) => {\n\tfunction getPaymentMethodText() {\n\t\tif (route.params.paymentMethod === 'antecipated_price') return 'Antecipado';\n\t\tif (route.params.paymentMethod === 'cash_price') return 'No Ato';\n\t\treturn 'Em 30 Dias';\n\t}\n\n\tfunction getQuotationFromCompanyIdByModal() {\n\t\tfor (const modal of route.params.quotation.quotation_modal_package) {\n\t\t\tif (modal.pulverization_method === route.params.method) {\n\t\t\t\tfor (const quotation of modal.quotation) {\n\t\t\t\t\tif (quotation.company_id === route.params.company) {\n\t\t\t\t\t\treturn quotation;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error('A quotation should have been found!');\n\t}\n\n\tconst companies = useMainSelector((state) => state.backendData.companies)!;\n\n\tfunction getCompanyById(): Models.company {\n\t\tfor (const company of companies) {\n\t\t\tif (company.id === route.params.company) return company;\n\t\t}\n\n\t\tthrow new Error('A company should have been found!');\n\t}\n\n\tconst currentCompany = getCompanyById();\n\tconst currentQuotation = getQuotationFromCompanyIdByModal();\n\n\treturn (\n\t\t<View style={{ flex: 1, backgroundColor: 'white' }}>\n\t\t\t<ClosableHeader\n\t\t\t\ttitle=\"Detalhes da Pulverização\"\n\t\t\t\tcustomStyle={{ paddingLeft: '16rem', marginTop: '9rem', fontWeight: 'bold', color: '#6F6F6F' }}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tnavigation.goBack();\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<View style={styles.mainView}>\n\t\t\t\t<Text style={styles.titleText}>EMPRESA A SER CONTRATADA</Text>\n\t\t\t\t<Text style={styles.companyText}>{currentCompany.name}</Text>\n\t\t\t\t<Text style={styles.address}>{`${currentCompany.address.street}, ${currentCompany.address.number ?? ''} - ${currentCompany.address.city}/${\n\t\t\t\t\tcurrentCompany.address.state.initials\n\t\t\t\t}`}</Text>\n\n\t\t\t\t<Divider style={styles.divider} />\n\n\t\t\t\t<Text style={styles.titleText}>MÉTODO</Text>\n\t\t\t\t<Text>Pulverização por {route.params.method === PulverizationMethods.DRONE ? 'Drone' : 'Avião'}</Text>\n\t\t\t\t<Divider style={styles.divider} />\n\n\t\t\t\t<Text style={styles.titleText}>PERÍODO</Text>\n\t\t\t\t<Text>\n\t\t\t\t\t{formatDate(route.params.quotation.pulverization_start_date)} até {formatDate(route.params.quotation.pulverization_end_date)}\n\t\t\t\t</Text>\n\t\t\t\t<Divider style={styles.divider} />\n\n\t\t\t\t<Text style={styles.titleText}>PROPRIEDADE</Text>\n\t\t\t\t<Text>\n\t\t\t\t\t{[\n\t\t\t\t\t\t...new Set(\n\t\t\t\t\t\t\troute.params.quotation.quotation_modal_package.flatMap((modal) =>\n\t\t\t\t\t\t\t\tmodal.pulverization_method === route.params.method ? modal.field.flatMap((field) => field.area.name.split(' ')[1]) : undefined,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t),\n\t\t\t\t\t]\n\t\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t\t.sort(undefined)\n\t\t\t\t\t\t.join(', ')}\n\t\t\t\t</Text>\n\t\t\t\t<Divider style={styles.divider} />\n\n\t\t\t\t<Text style={styles.titleText}>TALHÕES</Text>\n\t\t\t\t<Text>\n\t\t\t\t\t{[\n\t\t\t\t\t\t...new Set(\n\t\t\t\t\t\t\troute.params.quotation.quotation_modal_package.flatMap((modal) =>\n\t\t\t\t\t\t\t\tmodal.pulverization_method === route.params.method ? modal.field.map((field) => field.name.split(' ')[1]) : undefined,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t),\n\t\t\t\t\t]\n\t\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t\t.sort(undefined)\n\t\t\t\t\t\t.join(', ')}\n\t\t\t\t</Text>\n\t\t\t\t<Divider style={styles.divider} />\n\n\t\t\t\t<Text style={styles.titleText}>VALOR</Text>\n\t\t\t\t<Text>\n\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\tfixedDecimalScale\n\t\t\t\t\t\tdecimalScale={2}\n\t\t\t\t\t\tvalue={currentQuotation[route.params.paymentMethod!] ?? 0}\n\t\t\t\t\t\tdisplayType=\"text\"\n\t\t\t\t\t\tthousandSeparator=\".\"\n\t\t\t\t\t\tdecimalSeparator=\",\"\n\t\t\t\t\t\tprefix=\"R$ \"\n\t\t\t\t\t\trenderText={(value) => <Text style={styles.valueText}>{value}</Text>}\n\t\t\t\t\t/>{' '}\n\t\t\t\t\t/ {getPaymentMethodText()}\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t</View>\n\t);\n});\n\nconst styles = createTStyleSheet({\n\tmainView: {\n\t\tflex: 1,\n\t\t// flexWrap: 'wrap',\n\t\t// flexBasis: '33.333%',\n\t\tpadding: '24rem',\n\t\tbackgroundColor: 'white',\n\t\tjustifyContent: 'space-evenly',\n\t},\n\ttitleText: {\n\t\tcolor: '#78849E',\n\t\tlineHeight: '25rem',\n\t},\n\taddress: {\n\t\tcolor: '#78849E',\n\t},\n\tcompanyText: {\n\t\tfontSize: '18rem',\n\t},\n\tvalueText: {\n\t\tfontSize: '18rem',\n\t},\n\tdivider: {\n\t\theight: '1rem',\n\t\tmarginVertical: '20rem',\n\t},\n});\n"]},"metadata":{},"sourceType":"module"}