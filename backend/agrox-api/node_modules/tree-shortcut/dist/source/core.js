"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.treeShortcut = void 0;
const is_plain_object_1 = require("./is-plain-object");
function pick(tree, field) {
    if (Array.isArray(tree))
        return tree.map(x => pick(x, field));
    if (!is_plain_object_1.isPlainObject(tree))
        return tree;
    return tree[field];
}
function treeShortcutHelper(tree, from, to, name) {
    if (Array.isArray(tree))
        return tree.map(x => treeShortcutHelper(x, from, to, name));
    if (!is_plain_object_1.isPlainObject(tree))
        return tree;
    const keys = Object.keys(tree);
    const result = {};
    for (const key of keys) {
        if (key !== from) {
            result[key] = treeShortcutHelper(tree[key], from, to, name);
        }
    }
    if (keys.includes(from)) {
        result[name] = pick(tree[from], to);
    }
    return result;
}
function treeShortcut(tree, shortcutTriggerProp, shortcutTargetProp, shortcutName) {
    return treeShortcutHelper(tree, shortcutTriggerProp, shortcutTargetProp, shortcutName);
}
exports.treeShortcut = treeShortcut;
//# sourceMappingURL=core.js.map